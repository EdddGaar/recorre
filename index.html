<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recorre | Cumplea√±os de la Semana</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;800;900&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --text:#ffffff; --muted:#e7edff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, system-ui, sans-serif; color:var(--text);
      overflow-x:hidden; background:#15203b;
    }

    /* ===== Fondo degradado estilo tarjeta (azul->violeta) con animaci√≥n ===== */
    .gradient{
      position:fixed; inset:0; z-index:-3;
      background: linear-gradient(135deg, #3a7bd5 0%, #4b6cb7 45%, #7353ba 80%, #b06ab3 100%);
      background-size: 200% 200%;
      animation: gradientShift 12s ease-in-out infinite alternate;
      filter: saturate(1.1);
    }
    @keyframes gradientShift{
      0%{ background-position:0% 50% }
      100%{ background-position:100% 50% }
    }

    /* ===== Estrellas animadas (canvas) ===== */
    #stars{
      position:fixed; inset:0; z-index:-2; pointer-events:none;
      mix-blend-mode: screen; opacity:.9;
    }

    /* ===== Banderines (SVG inline) ===== */
    .banners{
      position:fixed; inset:0 0 auto 0; height:120px; z-index:-1; pointer-events:none;
    }
    .banner-wrap{ width:100%; height:100% }

    header{ text-align:center; padding:28px 18px 8px; }
    .logo{
      width:120px; height:120px; border-radius:50%; object-fit:cover;
      border:2px solid rgba(255,255,255,.85);
      box-shadow:0 0 40px rgba(0,0,0,.35);
      margin-bottom:12px;
    }
    .brand{font-family:Outfit; font-weight:900; font-size:clamp(28px,4.4vw,52px);
      color:#fff; text-shadow:0 3px 12px rgba(0,0,0,.45);
    }

    main{max-width:980px; margin:0 auto 86px; padding:0 18px}
    .phrase{
      text-align:center; margin:10px auto 24px; max-width:880px;
      font-size:clamp(16px,2.4vw,20px); color:#fff;
      background:rgba(0,0,0,.20); border:1px solid rgba(255,255,255,.25);
      border-radius:16px; padding:12px 16px; backdrop-filter: blur(6px);
    }

    .toolbar{ display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap; margin:8px 0 18px; }
    .btn{
      appearance:none; border:none; border-radius:999px; padding:10px 16px; cursor:pointer; color:#15203b; font-weight:800;
      background:linear-gradient(180deg,#fff,#f2f5ff); box-shadow:0 8px 24px rgba(0,0,0,.25), inset 0 1px 0 #fff; transition:.15s; font-family:Inter;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow:0 12px 30px rgba(0,0,0,.32), inset 0 1px 0 #fff }
    .btn-ghost{ background:linear-gradient(180deg, rgba(255,255,255,.20), rgba(255,255,255,.10)); color:#fff; border:1px solid rgba(255,255,255,.28) }

    .section{
      margin:24px auto; padding:16px;
      background:rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.26);
      border-radius:22px; backdrop-filter: blur(14px);
      box-shadow:0 10px 36px rgba(0,0,0,.35);
    }
    .title-day{
      text-align:center; font-family:Outfit; font-weight:900; margin:0 0 14px;
      font-size:clamp(28px,6.5vw,64px); line-height:1.05; text-shadow:0 3px 10px rgba(0,0,0,.4);
    }
    .title-day.small{ font-size:clamp(22px,4.6vw,40px) }

    .cards{ display:grid; grid-template-columns:1fr; gap:14px; max-width:760px; margin:0 auto; }
    .card{
      position:relative; text-align:center; padding:18px 16px; border-radius:18px;
      background:rgba(255,255,255,.15); box-shadow:0 6px 28px rgba(0,0,0,.30);
      transition:transform .18s ease, box-shadow .18s ease; overflow:hidden;
    }
    .card:hover{ transform: translateY(-2px); box-shadow:0 12px 36px rgba(0,0,0,.40) }
    .card::before{content:"üéÇ"; position:absolute; left:10px; top:10px; font-size:18px}
    .name{font-family:Outfit; font-weight:900; font-size:clamp(18px,3.5vw,24px); margin:0 0 6px; color:#fff}
    .meta{font-size:14px; opacity:.95; margin:0 0 8px; color:#eaeaff}
    .wish{font-size:15px; color:#fff; margin:0}
    .badge{ position:absolute; right:10px; top:10px; font-size:12px; padding:.2rem .5rem; border-radius:999px; background:#fff; color:#333; font-weight:900; }

    footer{text-align:center; padding:26px 16px; color:#fff}

    @media (min-width:720px){ .cards{ grid-template-columns:repeat(2,1fr) } }
    @media (prefers-reduced-motion: reduce){
      .gradient{animation:none}
    }
  </style>
</head>
<body>
  <!-- Fondo -->
  <div class="gradient" aria-hidden="true"></div>
  <canvas id="stars"></canvas>

  <!-- Banderines (SVG multicolor, responsivo) -->
  <div class="banners" aria-hidden="true">
    <svg class="banner-wrap" viewBox="0 0 1200 200" preserveAspectRatio="none">
      <!-- cuerda -->
      <path d="M0,60 C300,120 900,0 1200,80" fill="none" stroke="rgba(255,255,255,.7)" stroke-width="4" />
      <!-- banderines -->
      <g>
        <!-- funci√≥n visual: alternamos colores alegres -->
        <defs>
          <linearGradient id="flag1" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%"  stop-color="#FFD166"/>
            <stop offset="100%" stop-color="#FF9F1C"/>
          </linearGradient>
          <linearGradient id="flag2" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%"  stop-color="#06D6A0"/>
            <stop offset="100%" stop-color="#118AB2"/>
          </linearGradient>
          <linearGradient id="flag3" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%"  stop-color="#F78DA7"/>
            <stop offset="100%" stop-color="#C06CFF"/>
          </linearGradient>
        </defs>
        <!-- generamos ~20 tri√°ngulos a lo largo del path -->
        <g id="flags">
          <!-- Usamos posiciones manuales para evitar scripts -->
          <!-- (x,60) a (x+40,60) a centro inferior -->
          <!-- fila 1 -->
          <polygon points="40,60 80,60 60,120" fill="url(#flag1)"/>
          <polygon points="110,60 150,60 130,120" fill="url(#flag2)"/>
          <polygon points="180,60 220,60 200,120" fill="url(#flag3)"/>
          <polygon points="250,60 290,60 270,120" fill="url(#flag1)"/>
          <polygon points="320,60 360,60 340,120" fill="url(#flag2)"/>
          <polygon points="390,60 430,60 410,120" fill="url(#flag3)"/>
          <polygon points="460,60 500,60 480,120" fill="url(#flag1)"/>
          <polygon points="530,60 570,60 550,120" fill="url(#flag2)"/>
          <polygon points="600,60 640,60 620,120" fill="url(#flag3)"/>
          <polygon points="670,60 710,60 690,120" fill="url(#flag1)"/>
          <polygon points="740,60 780,60 760,120" fill="url(#flag2)"/>
          <polygon points="810,60 850,60 830,120" fill="url(#flag3)"/>
          <polygon points="880,60 920,60 900,120" fill="url(#flag1)"/>
          <polygon points="950,60 990,60 970,120" fill="url(#flag2)"/>
          <polygon points="1020,60 1060,60 1040,120" fill="url(#flag3)"/>
          <polygon points="1090,60 1130,60 1110,120" fill="url(#flag1)"/>
        </g>
      </g>
    </svg>
  </div>

  <header>
    <img class="logo" src="https://github.com/EdddGaar/recorre/raw/main/Re%20corre%20Logo.jpg" alt="Logo Recorre" />
    <div class="brand">Recorre</div>
  </header>

  <main>
    <p class="phrase">üéâ ¬°Feliz cumplea√±os a nuestros runners de la semana! üéΩ‚ú®</p>

    <div class="toolbar">
      <button class="btn" id="btn-hoy">Ir a HOY</button>
      <button class="btn btn-ghost" id="btn-reload">Recargar</button>
    </div>

    <div id="vertical"></div>
  </main>

  <footer>#RecorreToluca üéΩüî•üåÑ ¬∑ Creado de Runners para Runners ‚ù§Ô∏è ¬∑ <span id="week-range"></span></footer>

  <script>
    /* ========= Estrellas (canvas) ========= */
    (function stars(){
      const c = document.getElementById('stars');
      const ctx = c.getContext('2d');
      let W, H, stars = [];
      function resize(){ W = c.width = innerWidth; H = c.height = innerHeight; spawn(); }
      function spawn(){
        const count = Math.min(180, Math.floor(W*H/9000));
        stars = new Array(count).fill(0).map(()=>({
          x: Math.random()*W,
          y: Math.random()*H*0.7 + 10,
          r: Math.random()*1.8 + 0.6,
          a: Math.random()*0.5 + 0.4,
          speed: Math.random()*0.003 + 0.0015,
          phase: Math.random()*Math.PI*2
        }));
      }
      function tick(t){
        ctx.clearRect(0,0,W,H);
        for(const s of stars){
          s.phase += s.speed;
          const alpha = s.a * (0.5 + 0.5*Math.sin(s.phase));
          const grad = ctx.createRadialGradient(s.x,s.y,0, s.x,s.y,s.r*3);
          grad.addColorStop(0, `rgba(255,255,255,${alpha})`);
          grad.addColorStop(1, `rgba(255,255,255,0)`);
          ctx.fillStyle = grad;
          ctx.beginPath();
          ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
          ctx.fill();
        }
        requestAnimationFrame(tick);
      }
      addEventListener('resize', resize);
      resize(); requestAnimationFrame(tick);
    })();

    /* ========= Datos de ejemplo (runners) ========= */
    const BIRTHDAYS = [
      { name: "Andrea Mart√≠nez",   date: "09-19", pace: "5:10/km", wish:"¬°A volar en tus entrenos, Andrea!" },
      { name: "Roberto D√≠az",      date: "09-20", pace: "4:45/km", wish:"M√°s podios este a√±o, Roberto" },
      { name: "Claudia Fern√°ndez", date: "09-21", pace: "6:00/km", wish:"Kil√≥metros llenos de sonrisas, Claudia" },
      { name: "Javier L√≥pez",      date: "09-22", pace: "5:30/km", wish:"¬°Sigue rompiendo marcas, Javier!" },
      { name: "Paola Torres",      date: "09-23", pace: "5:50/km", wish:"Que nunca falte la energ√≠a, Paola" },

      /* m√°s ejemplos para ver semanas diferentes */
      { name: "Sof√≠a Ram√≠rez",     date: "09-24", pace: "5:35/km", wish:"¬°Un a√±o de nuevos PRs!" },
      { name: "Diego G√≥mez",       date: "09-25", pace: "4:58/km", wish:"¬°A tope en las cuestas!" },
      { name: "Mariana Cruz",      date: "09-26", pace: "5:20/km", wish:"¬°Rutas y alegr√≠a sin fin!" }
    ];

    /* ========= Utilidades de fecha y agrupaci√≥n ========= */
    const dayNames = ['Domingo','Lunes','Martes','Mi√©rcoles','Jueves','Viernes','S√°bado'];
    const fmtDM = (d)=> d.toLocaleDateString('es-MX',{day:'2-digit',month:'short'}).replace('.', '');
    const at0=d=>{ const x=new Date(d); x.setHours(0,0,0,0); return x };
    function mondayOfWeek(d){ const x=at0(d); const w=x.getDay(); const diff=(w===0?-6:1-w); x.setDate(x.getDate()+diff); return x }
    function sundayOfWeek(d){ const m=mondayOfWeek(d); const s=new Date(m); s.setDate(m.getDate()+6); return s }
    function parseMD(md, year){ const [m, d]=md.split('-').map(Number); return new Date(year, m-1, d) }
    const isSameDay=(a,b)=> at0(a).getTime()===at0(b).getTime();

    function groupByWeek(list){
      const today=new Date();
      const start=mondayOfWeek(today), end=sundayOfWeek(today);
      document.getElementById('week-range').textContent = `${fmtDM(start)} ‚Äì ${fmtDM(end)}`;
      const days=[]; for(let i=0;i<7;i++){ const d=new Date(start); d.setDate(start.getDate()+i); days.push(d) }
      const year=today.getFullYear(); const map=new Map(days.map(d=>[at0(d).getTime(), []]));
      for(const p of list){ const dt=parseMD(p.date, year); if(at0(dt)>=at0(start)&&at0(dt)<=at0(end)){ map.get(at0(dt).getTime()).push(p) } }
      const out=[]; const tomorrow=new Date(today); tomorrow.setDate(today.getDate()+1);
      for(const d of days){
        const label=isSameDay(d,today)?'HOY':isSameDay(d,tomorrow)?'Ma√±ana':dayNames[d.getDay()];
        out.push({label,date:d,items:map.get(at0(d).getTime())||[]})
      }
      out.sort((a,b)=>{ const rank=v=>v.label==='HOY'?0:v.label==='Ma√±ana'?1:2; return rank(a)-rank(b)||a.date-b.date });
      return out;
    }

    function render(){
      const container=document.getElementById('vertical'); container.innerHTML='';
      const blocks=groupByWeek(BIRTHDAYS);
      blocks.forEach((g,idx)=>{
        const section=document.createElement('section'); section.className='section';
        const h=document.createElement('h2'); h.className='title-day'+(g.label==='HOY'?'':' small'); h.textContent=g.label; section.appendChild(h);
        const cards=document.createElement('div'); cards.className='cards';
        if(!g.items.length){
          const empty=document.createElement('div'); empty.className='card';
          const p=document.createElement('p'); p.className='wish'; p.textContent='‚Äî Sin cumplea√±er@s ‚Äî';
          empty.appendChild(p); cards.appendChild(empty);
        }else{
          g.items.sort((a,b)=> a.name.localeCompare(b.name)).forEach(p=>{
            const c=document.createElement('div'); c.className='card';
            const n=document.createElement('p'); n.className='name'; n.textContent=p.name;
            const m=document.createElement('p'); m.className='meta'; m.textContent=`${fmtDM(g.date)} ¬∑ ${p.pace||'Runner'}`;
            const w=document.createElement('p'); w.className='wish'; w.textContent=p.wish || '¬°Muchas felicidades!';
            const badge=document.createElement('span'); badge.className='badge'; badge.textContent='üéΩ Recorre';
            c.appendChild(badge); c.appendChild(n); c.appendChild(m); c.appendChild(w); cards.appendChild(c);
          })
        }
        section.appendChild(cards); container.appendChild(section);
      })
    }

    // Botones
    document.getElementById('btn-hoy').addEventListener('click', ()=>{
      const hoy=[...document.querySelectorAll('.title-day')].find(n=> n.textContent.trim()==='HOY');
      if(hoy) hoy.scrollIntoView({behavior:'smooth',block:'start'});
    });
    document.getElementById('btn-reload').addEventListener('click', render);

    // Init
    render();
  </script>
</body>
</html>
