<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recorre | Wall Semanal de Cumplea√±os</title>

  <!-- Google Fonts: Titulares y texto -->
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800;900&family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <!-- AOS (Animate On Scroll) -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

  <style>
  :root{$1
      --bg-img:url('https://github.com/EdddGaar/recorre/raw/main/assets/bg_fiesta.png'); /* <-- reemplaza si usas otro nombre */
    }
  *{box-sizing:border-box}
  body{$1
      /* Capa base oscura + tu fondo festivo arriba */
      background-image: var(--bg-img), radial-gradient(1000px 720px at 10% 8%, #1c224c 0%, transparent 60%), radial-gradient(1000px 720px at 88% 12%, #2a1341 0%, transparent 60%), linear-gradient(180deg, var(--ink), var(--ink2));
      background-size: cover, auto, auto, auto;
      background-position: center top, center, center, center;
      background-repeat: no-repeat, no-repeat, no-repeat, no-repeat;
    }

  header{text-align:center; padding:40px 20px 20px}
  .title{
    font-family:'Outfit',cursive; font-weight:900;
    font-size:clamp(32px,5vw,54px);
    color:#ffe066;
    text-shadow:0 0 6px #ff00d4,0 0 12px #00eaff,0 0 22px #ff7ad9;
    animation: glow 2s ease-in-out infinite alternate;
  }
  @keyframes glow{from{text-shadow:0 0 6px #ff00d4,0 0 12px #00eaff}to{text-shadow:0 0 12px #ff7ad9,0 0 24px #ffe066}}

  .subtitle{display:block; margin-top:8px; font-size:18px; font-weight:600; color:#fff}

  main{flex:1; max-width:1200px; margin:0 auto; padding:20px}
  .week{display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
  .day{
    background:rgba(0,0,0,.55);
    border-radius:18px; padding:16px;
    border:2px solid rgba(255,255,255,.2);
    box-shadow:0 6px 20px rgba(0,0,0,.45);
    text-align:center;
    transition:transform .25s ease;
  }
  .day:hover{transform:translateY(-4px)}
  .dname{font-size:22px; font-weight:800; color:#ffec99; margin-bottom:6px}
  .dchip{font-size:14px; padding:4px 8px; border-radius:999px; background:rgba(255,255,255,.2); display:inline-block; margin-bottom:10px}

  .card{
    margin:8px 0; padding:14px; border-radius:14px;
    background:rgba(255,255,255,.1);
    backdrop-filter:blur(6px);
    border:1px solid rgba(255,255,255,.25);
    animation:pop .6s ease both;
  }
  @keyframes pop{from{transform:scale(.9); opacity:0}to{transform:scale(1); opacity:1}}
  .name{font-size:20px; font-weight:800; color:#fff}
  .wish{font-size:14px; color:#ffe; margin-top:6px}

  footer{text-align:center; padding:20px; color:#fff; font-size:14px; background:rgba(0,0,0,.5)}

    /* T√≠tulo animado estilo "¬°Feliz Cumplea√±os!" */
    .fiesta-title{ margin:14px auto 0; text-align:center; font-family:Outfit,Inter,sans-serif; font-weight:900; letter-spacing:.5px; 
      font-size:clamp(28px,4.4vw,56px); line-height:1; 
      display:flex; flex-wrap:wrap; justify-content:center; gap:.06em; 
      text-shadow: 0 2px 0 rgba(0,0,0,.3), 0 6px 18px rgba(0,0,0,.35);
    }
    .fiesta-title span{ display:inline-block; padding:0 .02em; 
      background:linear-gradient(180deg,#fff 0%, #ffe9a8 40%, #ffd166 60%, #ff7ad9 100%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      filter: drop-shadow(0 0 10px rgba(255,209,102,.35));
      transform-origin: bottom; animation:pop .9s ease forwards; opacity:0;
    }
    .fiesta-title span:nth-child(odd){ filter: drop-shadow(0 0 10px rgba(155,92,255,.35)); }
    @keyframes pop{0%{transform:translateY(30%) scale(.8) rotate(-6deg); opacity:0}60%{transform:translateY(-8%) scale(1.08) rotate(3deg); opacity:1}100%{transform:translateY(0) scale(1)} }
    .fiesta-title span{ counter-increment: i } /* para escalonar */
    .fiesta-title span{ animation-delay: calc( .03s * var(--i, 1) ); }
    .fiesta-title span:nth-child(n){ --i: 1 }
    .fiesta-title span:nth-child(2){ --i: 2 }
    .fiesta-title span:nth-child(3){ --i: 3 }
    .fiesta-title span:nth-child(4){ --i: 4 }
    .fiesta-title span:nth-child(5){ --i: 5 }
    .fiesta-title span:nth-child(6){ --i: 6 }
    .fiesta-title span:nth-child(7){ --i: 7 }
    .fiesta-title span:nth-child(8){ --i: 8 }
    .fiesta-title span:nth-child(9){ --i: 9 }
    .fiesta-title span:nth-child(10){ --i: 10 }
    .fiesta-title span:nth-child(11){ --i: 11 }
    .fiesta-title span:nth-child(12){ --i: 12 }
    .fiesta-title span:nth-child(13){ --i: 13 }
    .fiesta-title span:nth-child(14){ --i: 14 }
    .fiesta-title span:nth-child(15){ --i: 15 }
    .fiesta-title span:nth-child(16){ --i: 16 }
    .fiesta-title span:nth-child(17){ --i: 17 }
    .fiesta-title span:nth-child(18){ --i: 18 }
    .fiesta-title span:nth-child(19){ --i: 19 }
    .fiesta-title span:nth-child(20){ --i: 20 }
  </style>
</head>
<body>
  <!-- Fondo: blobs + part√≠culas -->
  <div class="blob" aria-hidden="true">
    <div class="b1"></div>
    <div class="b2"></div>
    <div class="b3"></div>
  </div>
  <div id="particles-bg"></div>

  <header data-aos="fade-down" data-aos-duration="900">
    <div class="banner">
      <img class="logo" src="https://github.com/EdddGaar/recorre/raw/main/Re%20corre%20Logo.jpg" alt="Logo Recorre" />
      <div class="title">Recorre <span class="subtitle">Wall Semanal de Cumplea√±os</span></div>
    </div>
    <h1 class="fiesta-title" aria-label="¬°Feliz Cumplea√±os!">
      <span>¬°</span><span>F</span><span>E</span><span>L</span><span>I</span><span>Z</span>
      <span>&nbsp;</span>
      <span>C</span><span>U</span><span>M</span><span>P</span><span>L</span><span>E</span><span>A</span><span>√ë</span><span>O</span><span>S</span><span>!</span>
    </h1>
    <div class="weekbar" data-aos="zoom-in" data-aos-delay="150">
      <div id="weekRange" class="chip">Semana</div>
    </div>
  </header>

  <main>
    <div id="week" class="week"></div>
  </main>

  <footer>
    <span class="footer-glow" aria-hidden="true"></span>
    <a class="footer-brand" href="https://edddgaar.github.io/recorre/" target="_blank" rel="noopener">
      <img class="footer-logo" src="https://github.com/EdddGaar/recorre/raw/main/Re%20corre%20Logo.jpg" alt="Logo Recorre"/>
      <span class="footer-text">Recorre Toluca <span class="footer-sub">creado de Runners para Runners <span class="footer-heart">‚ù§Ô∏è</span></span></span>
    </a>
  </footer>

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // AOS
    AOS.init({ once:true });

    // Particles (m√°s sutil para no competir con los blobs)
    particlesJS('particles-bg', {
      particles: {
        number: { value: 50, density: { enable:true, value_area: 900 } },
        color: { value: ['#5ef0ff','#9b5cff','#ff7ad9','#ffd166'] },
        shape: { type:'circle' },
        opacity: { value: .35 },
        size: { value: 2.4, random:true },
        line_linked: { enable:true, distance:150, color:'#7cdcff', opacity:.18, width:1 },
        move: { enable:true, speed:0.9 }
      },
      interactivity: { events:{ onhover:{enable:true, mode:'repulse'} }, modes:{ repulse:{ distance:110 } } },
      retina_detect:true
    });

    // ======== DEMO SEMANAL ========
    const MESSAGE = "Que este nuevo a√±o est√© lleno de kil√≥metros, salud y logros. ¬°Te celebra la familia Recorre! üéÇ‚ú®";

    // Calcula lunes-domingo de la semana actual
    function getWeekRange(d=new Date()){
      const day = d.getDay(); // 0=Dom
      const diffToMon = (day === 0 ? -6 : 1) - day; // ajuste a lunes
      const monday = new Date(d); monday.setDate(d.getDate()+diffToMon);
      const sunday = new Date(monday); sunday.setDate(monday.getDate()+6);
      return {monday, sunday};
    }
    function fmtDate(d){ return d.toLocaleDateString('es-MX',{day:'2-digit', month:'short'}).replace('.',''); }

    const {monday, sunday} = getWeekRange(new Date());
    document.getElementById('weekRange').textContent = `Semana ${fmtDate(monday)} ‚Äì ${fmtDate(sunday)}`;

    // Datos demo: mapa por d√≠a (Mon..Sun)
    const demoWeek = {
      Mon: [{name:'Omar Francisco'}],
      Tue: [{name:'Liliana Romero'},{name:'Silverio Aguilar'}],
      Wed: [],
      Thu: [{name:'Ruth Anah√≠'},{name:'Pablo Gil'}],
      Fri: [{name:'Ver√≥nica S√°nchez'}],
      Sat: [{name:'Raquel Jacinto'}],
      Sun: []
    };

    const dayNames = ["Lunes","Martes","Mi√©rcoles","Jueves","Viernes","S√°bado","Domingo"];
    const weekEl = document.getElementById('week');

    // Render de cada d√≠a
    for(let i=0;i<7;i++){
      const d = new Date(monday); d.setDate(monday.getDate()+i);
      const key = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'][i];
      const col = document.createElement('div'); col.className='day'; col.setAttribute('data-aos','fade-up'); col.setAttribute('data-aos-delay', String(80+i*40));
      col.innerHTML = `
        <div class="dayhead">
          <div class="dname">${dayNames[i]}</div>
          <div class="dchip">${fmtDate(d)}</div>
        </div>
        <div class="list" id="list-${i}"></div>
      `;
      weekEl.appendChild(col);

      const list = demoWeek[key] || [];
      const mount = document.getElementById(`list-${i}`);
      if(!list.length){
        const p = document.createElement('p'); p.className='wish'; p.textContent='‚Äî Sin cumplea√±eros ‚Äî'; mount.appendChild(p);
      }else{
        mount.innerHTML = list.map(m=>`<div class="card"><p class="name">${escapeHtml(m.name)}</p><p class="wish">${MESSAGE}</p></div>`).join('');
      }
    }

    function escapeHtml(s){ return String(s).replace(/[<>&"]/g, c=>({"<":"&lt;", ">":"&gt;", "&":"&amp;", '"':'&quot;'}[c])); }

    // ======== Conexi√≥n futura ========
    // Sustituir demoWeek con datos reales del WebApp/JSON del Sheet, agrupados por d√≠a de la semana de la fecha de cumplea√±os.
    // const API = 'https://script.google.com/macros/s/XXXXX/exec?format=weekly';
    // fetch(API).then(r=>r.json()).then(week => { /* render din√°mica similar al demo */ });
  </script>
</body>
</html>
